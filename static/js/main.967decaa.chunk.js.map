{"version":3,"sources":["components/DisplayChild.js","components/Display.js","components/Calculator.js","index.js"],"names":["DisplayChild","_ref","func","text","react_default","a","createElement","defaultProps","Display","CASES_REPORTED_PER_ACTUAL_CASE","odds","_this$props","_this","props","population","dailyCases","daysContagious","percentReported","group","circulatingCases","prob","Math","pow","toFixed","components_DisplayChild","this","Component","Calculator","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","DAYS_CONTAGIOUS_DEFAULT","PERCENT_REPORTED","state","populationValue","dailyCasesValue","groupValue","daysContagiousValue","percentReportedValue","updateSearchParams","params","URLSearchParams","prop","append","window","history","replaceState","concat","location","pathname","handlePopulationChange","value","setState","handleDailyCasesChange","handleDaysContagiousChange","handlePartReportedChange","handlegroupChange","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","search","Symbol","iterator","next","done","_ref3","_ref2","slicedToArray","val","parseInt","err","return","_this$state","className","toLocaleString","js_default","step","maxValue","minValue","onChange","components_Display","href","ReactDOM","render","components_Calculator","document","getElementById"],"mappings":"yPAGMA,EAAe,SAAAC,GAAoB,IAAjBC,EAAiBD,EAAjBC,KAAMC,EAAWF,EAAXE,KAC5B,OACEC,EAAAC,EAAAC,cAAA,YACGJ,EADH,IACSE,EAAAC,EAAAC,cAAA,aAAQH,KAKrBH,EAAaO,aAAe,CAC1BL,KAAM,kBAAME,EAAAC,EAAAC,cAAA,mCACZH,KAAM,qBAQOH,QCyBAQ,6MAzCbC,+BAAiC,MAGjCC,KAAO,WAAM,IAAAC,EAQPC,EAAKC,MALPC,EAHSH,EAGTG,WACAC,EAJSJ,EAITI,WACAC,EALSL,EAKTK,eACAC,EANSN,EAMTM,gBACAC,EAPSP,EAOTO,MAEIC,EAAoBJ,EAAaC,GAAmBC,EAAkB,KACtEG,EAAO,EAAIC,KAAKC,IAAI,EAAKH,EAAmBL,EAAaI,GAE/D,OAAIE,GAAQ,MAEHhB,EAAAC,EAAAC,cAAA,SAAI,IAAJ,UAIFF,EAAAC,EAAAC,cAAA,UAAY,IAAPc,GAAYG,QAAQ,GAAzB,8EAIP,OACEnB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACkB,EAAD,CAActB,KAAMuB,KAAKf,OAAQP,KAAK,sDA5BxBuB,aCsJPC,2BA3Fb,SAAAA,EAAYd,GAAO,IAAAD,EAAAgB,OAAAC,EAAA,EAAAD,CAAAH,KAAAE,IACjBf,EAAAgB,OAAAE,EAAA,EAAAF,CAAAH,KAAAG,OAAAG,EAAA,EAAAH,CAAAD,GAAAK,KAAAP,KAAMZ,KAxDRoB,wBAA0B,GAuDPrB,EA3CnBsB,iBAAmB,GA2CAtB,EApCnBuB,MAAQ,CACNC,gBAAiB,OACjBC,gBAAiB,IACjBC,WAAY,GACZC,oBAAqB3B,EAAKqB,wBAC1BO,qBAAsB5B,EAAKsB,kBA+BVtB,EA5BnB6B,mBAAqB,WACnB,IAAMC,EAAS,IAAIC,gBACnB,IAAK,IAAMC,KAAQhC,EAAKuB,MACtBO,EAAOG,OAAOD,EAAMhC,EAAKuB,MAAMS,IAEjCE,OAAOC,QAAQC,aAAa,GAAI,GAAhC,GAAAC,OAAuCH,OAAOI,SAASC,SAAvD,KAAAF,OAAmEP,KAuBlD9B,EApBnBwC,uBAAyB,SAACC,GACxBzC,EAAK0C,SAAS,CAAElB,gBAAiBiB,IACjCzC,EAAK6B,sBAkBY7B,EAhBnB2C,uBAAyB,SAACF,GACxBzC,EAAK0C,SAAS,CAAEjB,gBAAiBgB,IACjCzC,EAAK6B,sBAcY7B,EAZnB4C,2BAA6B,SAACH,GAC5BzC,EAAK0C,SAAS,CAAEf,oBAAqBc,IACrCzC,EAAK6B,sBAUY7B,EARnB6C,yBAA2B,SAACJ,GAC1BzC,EAAK0C,SAAS,CAAEd,qBAAsBa,IACtCzC,EAAK6B,sBAMY7B,EAJnB8C,kBAAoB,SAACL,GACnBzC,EAAK6B,mBAAmB,CAAEH,WAAYe,KAGrB,IAAAM,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAEjB,QAAAC,EAAAC,EAA0B,IAAIrB,gBAAgBG,OAAOI,SAASe,QAA9DC,OAAAC,cAAAR,GAAAI,EAAAC,EAAAI,QAAAC,MAAAV,GAAA,EAAuE,KAAAW,EAAAP,EAAAV,MAAAkB,EAAA3C,OAAA4C,EAAA,EAAA5C,CAAA0C,EAAA,GAA3D1B,EAA2D2B,EAAA,GAArDE,EAAqDF,EAAA,GACrE3D,EAAKuB,MAAMS,GAAQ8B,SAASD,IAHb,MAAAE,GAAAf,GAAA,EAAAC,EAAAc,EAAA,YAAAhB,GAAA,MAAAK,EAAAY,QAAAZ,EAAAY,SAAA,WAAAhB,EAAA,MAAAC,GAAA,OAAAjD,wEAOV,IAAAiE,EAOHpD,KAAKU,MALPC,EAFKyC,EAELzC,gBACAC,EAHKwC,EAGLxC,gBACAE,EAJKsC,EAILtC,oBACAC,EALKqC,EAKLrC,qBACAF,EANKuC,EAMLvC,WAGF,OACElC,EAAAC,EAAAC,cAAA,OAAKwE,UAAU,OACb1E,EAAAC,EAAAC,cAAA,wCAC8B,IAC5BF,EAAAC,EAAAC,cAAA,SAAI8B,EAAgB2C,mBAEtB3E,EAAAC,EAAAC,cAAC0E,EAAA3E,EAAD,CACE4E,KAAM,IACNC,SAAU,IACVC,SAAU,IACV9B,MAAOjB,EACPgD,SAAU3D,KAAK2B,yBAEjBhD,EAAAC,EAAAC,cAAA,oDAC0C,IACxCF,EAAAC,EAAAC,cAAA,SAAI+B,EAAgB0C,kBAFtB,wBAIA3E,EAAAC,EAAAC,cAAC0E,EAAA3E,EAAD,CACE4E,KAAM,IACNC,SAAU,IACVC,SAAU,EACV9B,MAAOhB,EACP+C,SAAU3D,KAAK8B,yBAEjBnD,EAAAC,EAAAC,cAAA,0FAEkBF,EAAAC,EAAAC,cAAA,SAAIiC,GAFtB,SAIAnC,EAAAC,EAAAC,cAAC0E,EAAA3E,EAAD,CACE4E,KAAM,EACNC,SAAU,GACVC,SAAU,EACV9B,MAAOd,EACP6C,SAAU3D,KAAK+B,6BAEjBpD,EAAAC,EAAAC,cAAA,kBACOF,EAAAC,EAAAC,cAAA,SAAIkC,EAAJ,KADP,0BAGApC,EAAAC,EAAAC,cAAC0E,EAAA3E,EAAD,CACE4E,KAAM,EACNC,SAAU,IACVC,SAAU,EACV9B,MAAOb,EACP4C,SAAU3D,KAAKgC,2BAEjBrD,EAAAC,EAAAC,cAAA,yCAC8BF,EAAAC,EAAAC,cAAA,SAAIgC,EAAWyC,kBAAsB,IADnE,UAIA3E,EAAAC,EAAAC,cAAC0E,EAAA3E,EAAD,CACE4E,KAAM,EACNC,SAAU,IACVC,SAAU,EACV9B,MAAOf,EACP8C,SAAU3D,KAAKiC,oBAEjBtD,EAAAC,EAAAC,cAAC+E,EAAD,CACEvE,WAAYsB,EACZrB,WAAYsB,EACZrB,eAAgBuB,EAChBtB,gBAAiBuB,EACjBtB,MAAOoB,IAETlC,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,wBACW,IACTF,EAAAC,EAAAC,cAAA,KAAGgF,KAAK,yGAAR,oEA1Ie5D,cCHzB6D,IAASC,OAAOpF,EAAAC,EAAAC,cAACmF,EAAD,MAAgBC,SAASC,eAAe","file":"static/js/main.967decaa.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst DisplayChild = ({ func, text }) => {\n  return (\n    <span>\n      {func} <small>{text}</small>\n    </span>\n  );\n};\n\nDisplayChild.defaultProps = {\n  func: () => <p>Missing numeric value</p>,\n  text: \"No value provided\"\n};\n\nDisplayChild.propTypes = {\n  func: PropTypes.object.isRequired,\n  text: PropTypes.string.isRequired\n};\n\nexport default DisplayChild;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport DisplayChild from \"./DisplayChild\";\n\nclass Display extends Component {\n  CASES_REPORTED_PER_ACTUAL_CASE = 0.05;\n  // 1 in 20\n\n  odds = () => {\n    // https://marginalrevolution.com/marginalrevolution/2020/03/covid-19-event-risk-assessment-planner.html\n    const {\n      population,\n      dailyCases,\n      daysContagious,\n      percentReported,\n      group,\n    } = this.props;\n    const circulatingCases = (dailyCases * daysContagious) / (percentReported / 100);\n    const prob = 1 - Math.pow(1 - (circulatingCases / population), group);\n\n    if (prob >= 0.9999) {\n      // Never be 100% sure of anything...\n      return <p>{\">\"}99.99%</p>;\n    }\n\n    // Nice formatting\n    return <p>{(prob * 100).toFixed(2)}%</p>;\n  };\n\n  render() {\n    return (\n      <div>\n        <DisplayChild func={this.odds()} text=\"chance someone at the event is contageous\" />\n      </div>\n    );\n  }\n}\n\nDisplay.propTypes = {\n  dailyCasesValue: PropTypes.number.isRequired,\n  populationValue: PropTypes.number.isRequired,\n  daysContagious: PropTypes.number.isRequired,\n  percentReported: PropTypes.number.isRequired,\n  groupValue: PropTypes.number.isRequired,\n};\n\nexport default Display;\n","import React, { Component } from \"react\";\nimport InputRange from \"react-input-range\";\nimport Display from \"./Display\";\n\nimport \"../styles/Calculator.css\";\nimport \"react-input-range/lib/css/index.css\";\n\nclass Calculator extends Component {\n  DAYS_CONTAGIOUS_DEFAULT = 10;\n  /*\n   * Use this multiplier to convert dailyCases per day to the number of circulating cases. This\n   * default the following...\n   * 1. A patient is infectious for 3 days before the onset of symptoms [a] and 7 days after [2].\n   *    a. https://www.acpjournals.org/doi/10.7326/M20-0504\n   *    b. https://www.thelancet.com/journals/laninf/article/PIIS1473-3099(20)30196-1/fulltext\n   * 2. Those who test positive for COVID19 do not change their behavior after testing positive.\n   *    This is a bad assumption but I haven't yet found data on number of days after onset of\n   *    symptoms someone gets tested or the portion of people who change their behavior.\n   */\n\n  PERCENT_REPORTED = 10;\n  /*\n   * This based on CDC Director Robert Redfield's comment at the end of June [a] that a good rough\n   * estimate of actual cases to reported cases is 10-1.\n   * a. https://www.cdc.gov/media/releases/2020/t0625-COVID-19-update.html\n   */\n\n  state = {\n    populationValue: 19450000, // NY\n    dailyCasesValue: 560, // NY 7-day average (July 14th)\n    groupValue: 25,\n    daysContagiousValue: this.DAYS_CONTAGIOUS_DEFAULT,\n    percentReportedValue: this.PERCENT_REPORTED,\n  };\n\n  updateSearchParams = () => {\n    const params = new URLSearchParams();\n    for (const prop in this.state) {\n      params.append(prop, this.state[prop]);\n    }\n    window.history.replaceState({}, '', `${window.location.pathname}?${params}`);\n  }\n\n  handlePopulationChange = (value) => {\n    this.setState({ populationValue: value });\n    this.updateSearchParams();\n  };\n  handleDailyCasesChange = (value) => {\n    this.setState({ dailyCasesValue: value });\n    this.updateSearchParams();\n  };\n  handleDaysContagiousChange = (value) => {\n    this.setState({ daysContagiousValue: value });\n    this.updateSearchParams();\n  };\n  handlePartReportedChange = (value) => {\n    this.setState({ percentReportedValue: value });\n    this.updateSearchParams();\n  };\n  handlegroupChange = (value) => {\n    this.updateSearchParams({ groupValue: value });\n  };\n\n  constructor(props) {\n    super(props);\n    for (const [prop, val] of new URLSearchParams(window.location.search)) {\n      this.state[prop] = parseInt(val);\n    }\n  }\n\n  render() {\n    const {\n      populationValue,\n      dailyCasesValue,\n      daysContagiousValue,\n      percentReportedValue,\n      groupValue,\n    } = this.state;\n\n    return (\n      <div className=\"App\">\n        <h4>\n          My state as a population of{\" \"}\n          <u>{populationValue.toLocaleString()}</u>\n        </h4>\n        <InputRange\n          step={50000}\n          maxValue={40000000}\n          minValue={50000}\n          value={populationValue}\n          onChange={this.handlePopulationChange}\n        />\n        <h4>\n          My state has a 7-day rolling average of{\" \"}\n          <u>{dailyCasesValue.toLocaleString()}</u> daily cases per day\n        </h4>\n        <InputRange\n          step={100}\n          maxValue={20000}\n          minValue={0}\n          value={dailyCasesValue}\n          onChange={this.handleDailyCasesChange}\n        />\n        <h4>\n          A person who tested positive for the virus is contagious and\n          circulating for <u>{daysContagiousValue}</u> days\n        </h4>\n        <InputRange\n          step={1}\n          maxValue={30}\n          minValue={1}\n          value={daysContagiousValue}\n          onChange={this.handleDaysContagiousChange}\n        />\n        <h4>\n          Only <u>{percentReportedValue}%</u> of cases are reported\n        </h4>\n        <InputRange\n          step={1}\n          maxValue={100}\n          minValue={1}\n          value={percentReportedValue}\n          onChange={this.handlePartReportedChange}\n        />\n        <h4>\n          I'm attending an event with <u>{groupValue.toLocaleString()}</u>{\" \"}\n          people\n        </h4>\n        <InputRange\n          step={1}\n          maxValue={300}\n          minValue={1}\n          value={groupValue}\n          onChange={this.handlegroupChange}\n        />\n        <Display\n          population={populationValue}\n          dailyCases={dailyCasesValue}\n          daysContagious={daysContagiousValue}\n          percentReported={percentReportedValue}\n          group={groupValue}\n        />\n        <br></br>\n        <small>\n          Based on{\" \"}\n          <a href=\"https://marginalrevolution.com/marginalrevolution/2020/03/covid-19-event-risk-assessment-planner.html\">\n            COVID-19 Event Risk Assessment Planner by Alex Tabarrok\n          </a>\n        </small>\n      </div>\n    );\n  }\n}\n\nexport default Calculator;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Calculator from \"./components/Calculator\";\n\nReactDOM.render(<Calculator />, document.getElementById(\"root\"));\n"],"sourceRoot":""}